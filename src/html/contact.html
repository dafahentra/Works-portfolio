<!doctype html>
<html lang="en">

<!-- Head -->
{{> (config config.partials.head) title=config.defaultPageTitle }}

<body class="{{ config.classes.body }}">

    <!-- Locomotive Scroll Container-->
    <div data-scroll-container>
        <!-- Navbar -->
        {{> (config config.partials.navbar)
        configClassList=config.classes.navbar
        classList="" }}
        <!-- / Navbar-->

        <!-- Main Section-->
        <section class="container py-3 {{ config.classes.content }}" data-scroll-section>
            <!-- Page Content Goes Here -->

            <div class="position-relative ps-xl-7">
                <div class="tracking-wide text-vertical mt-4 small d-none d-xl-block"><a class="text-vertical-link me-3"
                        href="https:/linkedin.com/in/dafahentra">LinkedIn</a>
                    &middot; <a class="text-vertical-link mx-3" href="https:/instagram.com/dafahentra">Instagram</a> &middot; <a
                        class="text-vertical-link ms-3" href="https:/github.com/dafahentra">Github</a></div>

                <h1 class="display-3 col-xxl-8 mb-8">Let's keep in touch for further collaboration!</h1>

                <h4 class="subtitle-sm mb-3">Email me</h4>
                <a class="link-body" href="mailto:dapahentra@gmail.com">dapahentra@gmail.com</a>

                <h4 class="subtitle-sm mt-8 mb-4">Send Me A Message</h4>

                <!-- Contact Form-->
                <form id="contactForm">
                    <div class="row g-5">

                        <div class="col-12 col-xl-7">
                            <div class="row g-5">
                                <!-- Name-->
                                <div class="col-12 col-md-6">
                                    <label class="form-label">Your Name</label>
                                    <input type="text" class="form-control" name="name" placeholder="John Doe" required>
                                </div>
                                <!-- / Name-->

                                <!-- Email-->
                                <div class="col-12 col-md-6">
                                    <label class="form-label">Your Email Adress</label>
                                    <input type="email" class="form-control" name="email" placeholder="john@doe.com" required>
                                </div>
                                <!-- / Email-->

                                <!-- Project Information-->
                                <div class="col-12">
                                    <label class="form-label">Drop me a message</label>
                                    <textarea name="about" class="form-control" cols="30" rows="12"
                                        placeholder="Hi Dafa, I recently came across your portfolio and was genuinely impressed by your works, would you like to talk about..."></textarea>
                                </div>
                                <!-- / Project Information-->

                                <!-- Submit btn-->
                                <div class="col-12 justify-content-end d-flex">
                                    <button class="btn btn-primary" type="submit">Send Message</button>
                                </div>
                                <!-- / Submit Btn-->
                            </div>
                        </div>


                    </div>
                </form>
                <!-- / Contact Form-->
            </div>

            <!-- /Page Content -->
        </section>
        <!-- / Main Section-->

        <!-- Footer -->
        {{> (config config.partials.footer)
            configClassList=config.classes.footer
            classList=""
    }}
        <!-- / Footer-->
    </div>
    <!-- /Locomotive Scroll Container-->

    <!-- Theme JS -->
    {{> footer/scripts }}

   <script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const formData = {
    name: this.name.value,
    email: this.email.value,
    about: this.about.value
  };

  try {
    const res = await fetch('.netlify/functions/sendtelegram', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });

    const data = await res.json();

    if (data.success) {
      alert('Message sent successfully!');
      this.reset();
    } else {
      alert('Failed to send message: ' + data.message);
    }
  } catch (err) {
    alert('Error sending message: ' + err.message);
  }
});
</script>

</body>

</html>